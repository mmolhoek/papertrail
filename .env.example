# Papertrail GPS Tracker - Environment Configuration

# GPS Configuration
GPS_DEVICE_PATH=/dev/ttyAMA0
GPS_BAUD_RATE=9600
GPS_UPDATE_INTERVAL=1000
GPS_MIN_ACCURACY=10

# GPS Update Debouncing (for display updates)
# Prevents excessive rendering from high-frequency GPS data
GPS_DEBOUNCE_ENABLED=true
# Minimum time between callback notifications (milliseconds)
GPS_DEBOUNCE_MS=500
# Minimum distance moved to trigger notification (meters)
GPS_DISTANCE_THRESHOLD_METERS=2

# Map Configuration
GPX_DIRECTORY=./data/gpx-files
GPX_MAX_FILE_SIZE=10485760
GPX_ENABLE_CACHE=true
GPX_CACHE_DIRECTORY=./data/cache
DEFAULT_ZOOM=14
MIN_ZOOM=1
MAX_ZOOM=20

# E-paper Display Configuration
EPAPER_WIDTH=800
EPAPER_HEIGHT=480
EPAPER_SPI_DEVICE=/dev/spidev0.0
EPAPER_PIN_RESET=17
EPAPER_PIN_DC=25
EPAPER_PIN_BUSY=24
EPAPER_PIN_CS=8
EPAPER_REFRESH_MODE=full
EPAPER_ROTATION=0

# Web Interface Configuration
WEB_PORT=3000
WEB_HOST=0.0.0.0
WEB_CORS=true
# Restrict CORS to specific origins (comma-separated, optional)
# Leave empty/unset to allow all origins (*) - recommended for local device use
# Example: WEB_CORS_ORIGINS=http://192.168.1.100:3000,http://localhost:3000
WEB_CORS_ORIGINS=
WEB_API_BASE=/api
WEB_STATIC_DIR=./src/web/public
WEB_WEBSOCKET=true

# HTTPS Configuration
# Enable HTTPS with self-signed certificate (generated during install on Pi)
WEB_SSL_ENABLED=true
WEB_SSL_CERT_PATH=./data/certs/server.crt
WEB_SSL_KEY_PATH=./data/certs/server.key

# Web Authentication (optional)
WEB_AUTH_ENABLED=false
WEB_AUTH_USERNAME=admin
WEB_AUTH_PASSWORD=papertrail

# WiFi Configuration (for onboarding)
WIFI_ENABLED=true
WIFI_PRIMARY_SSID=Papertrail-Setup
WIFI_PRIMARY_PASSWORD=papertrail123
WIFI_SCAN_INTERVAL_MS=30000
WIFI_CONNECTION_TIMEOUT_MS=60000

# Hardware Mocking (for development on non-Raspberry Pi)
# Set to "true" to use mock services instead of real hardware
# Automatically enabled on non-Linux platforms (macOS, Windows)
USE_MOCK_GPS=false
USE_MOCK_EPAPER=false

# Text Rendering Backend
# Set to "true" to use the direct ImageMagick renderer instead of the
# SVG-based ImageMagick renderer. Both use native ImageMagick CLI.
# The direct renderer may be faster for some use cases.
USE_IMAGEMAGICK=false

# Installation Options
# Set SKIP_NATIVE_DEPS=true to skip installing native dependencies (serialport)
# Useful for chroot environments where gyp compilation fails (Android/PRoot/Termux)
# The install script auto-detects chroot environments, but you can override manually
# SKIP_NATIVE_DEPS=true

# Node Environment
NODE_ENV=production